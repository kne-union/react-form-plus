"use strict";(self.webpackChunk_kne_components_react_form_plus=self.webpackChunk_kne_components_react_form_plus||[]).push([[830],{71830:(e,n,r)=>{r.r(n),r.d(n,{FieldList:()=>m,FormInfo:()=>g,MultiField:()=>v,SubList:()=>f,TableList:()=>x,default:()=>g});var t=r(94922),l=r.n(t),s=r(89102),i=r(33227),o=r.n(i),a=r(71406),d=r.n(a);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},c.apply(null,arguments)}function u(e,n){if(null==e)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(n.includes(t))continue;r[t]=e[t]}return r}const m=e=>{const{list:n,groupArgs:r,ignoreFieldProps:i,itemRender:o}=Object.assign({},{ignoreFieldProps:[]},e),a=(0,s.xW)(),d=Object.assign({},a,r?{groupArgs:r}:{});return l().createElement(l().Fragment,null,n.filter((e=>"function"===typeof e.props.display?e.props.display(d):!1!==e.props.display)).map(((e,s)=>{const a=e.props.name+s||r&&r[0]+s||s,u={key:a,list:n,props:e.props},m=Object.assign({},e.props),p=e.type;["display","block","hidden","setExtraProps","isBlock",...i].forEach((n=>{e.props.hasOwnProperty(n)&&(u[n]=e.props[n]),delete m[n]})),u.hasOwnProperty("isBlock")&&(m.block=u.isBlock);const g=l().createElement(p,c({},Object.assign({},m,"function"===typeof u.setExtraProps?u.setExtraProps({props:m,contextApi:d}):{}),{onChange:function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return e.props.onChange&&e.props.onChange(...r,d)}}));return l().createElement(t.Fragment,{key:a},o(g,u))})))},p=["list","groupArgs","column","itemRender","children"],g=e=>{const n=Object.assign({},{column:2},e),{list:r,column:t,itemRender:s,children:i}=n,o=u(n,p);return i(l().createElement(m,{list:r,itemRender:(e,n)=>s(e,Object.assign({},n,{span:!0===n.block?24:Math.round(24/(t||1))}))}),o)},h=["itemTitle","name","column","list","listRender","maxLength","minLength","reverseOrder","beforeAdd","afterDelete","defaultLength","empty","children"],f=e=>{const n=Object.assign({},{minLength:0,column:2,reverseOrder:!1,defaultLength:1},e),{itemTitle:r,name:i,column:a,list:d,listRender:m,maxLength:p,minLength:g,reverseOrder:f,beforeAdd:R,afterDelete:v,defaultLength:y,empty:b,children:O}=n,x=u(n,h),L=(0,t.useRef)(null),A=(0,s.xW)(),{formData:w}=A,j=!(p&&p<=o()(w,`${i}.length`,0));return O(l().createElement(s._e,{name:i,defaultLength:y,ref:L,empty:b,reverseOrder:f},(function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];const{id:l,index:s,onRemove:i,length:o}=(e=>{if("object"===typeof e[0])return e[0];const[n,{index:r,onRemove:t,length:l}]=e;return{id:n,index:r,onRemove:t,length:l}})(n);return m(c({},x,{id:l,column:a,list:"function"===typeof d?d(...n,A):d,title:"function"===typeof r?r({index:s,id:l,onRemove:i}):r,groupArgs:n,allowRemove:!(g&&g>=o),onRemove:()=>{i(l),v&&v(...n,A)}}))})),{allowAdd:j,reverseOrder:f,onAdd:e=>{"function"===typeof R&&!1===R(i,A,{reverseOrder:f,group:L.current})||L.current.onAdd(Object.assign({},{isUnshift:!0},e))}})},R=["name","label","rule","field","defaultLength","minLength","maxLength","children","itemRender","empty","reverseOrder"],v=e=>{const n=Object.assign({},{defaultLength:1,minLength:0,reverseOrder:!1},e),{name:r,label:i,rule:a,field:d,defaultLength:m,minLength:p,maxLength:g,children:h,itemRender:f,empty:v,reverseOrder:y}=n,b=u(n,R),O=(0,t.useRef)(null),x=d,L=(0,s.xW)(),{formData:A}=L,w=!(g&&g<=o()(A,`${r}.length`,0));return h(l().createElement(s._e,{ref:O,name:r,defaultLength:Math.max(m,p,1),empty:v,reverseOrder:y},(function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];const{id:s,index:o,onRemove:d,length:u}=(e=>{if("object"===typeof e[0])return e[0];const[n,{index:r,onRemove:t,length:l}]=e;return{id:n,index:r,onRemove:t,length:l}})(n),m=u>Math.max(p,1);return f(l().createElement(x,c({},b,{name:r,label:i,rule:a})),{id:s,index:o,allowRemove:m,onRemove:d})})),{allowAdd:w,reverseOrder:y,onAdd:e=>{O.current.onAdd(Object.assign({},{isUnshift:!1},e))}})},y=["list","children","listRender","itemRender","headerRender","headerItemRender"],b=["list","groupArgs","id"],O=(0,t.forwardRef)(((e,n)=>{const{children:r,headerItemRender:l}=Object.assign({},e),[s,i]=(0,t.useState)(new Map);return(0,t.useImperativeHandle)(n,(()=>e=>{setTimeout((()=>{i((n=>{if(n.has(e.key))return n;const r=d()(n);return r.set(e.key,e.props),r}))}))}),[]),r(Array.from(s).map((e=>{let[n,{label:r,rule:t}]=e;return l(r,{isReq:0===(t||"").split(" ").indexOf("REQ"),id:n})})),{width:100/s.size+"%"})})),x=e=>{const n=(0,t.useRef)(null),r=Object.assign({},{children:e=>e},e),{list:s,children:i,listRender:o,itemRender:a,headerRender:d,headerItemRender:p}=r,g=u(r,y);return l().createElement(f,c({},g,{list:s,listRender:e=>{let{list:r,groupArgs:t}=e,s=u(e,b);return o(l().createElement(m,{list:r,groupArgs:t,itemRender:(e,r)=>(n.current(r),a(e,r))}),c({width:100/r.length+"%"},s))}}),((e,r)=>i(l().createElement(l().Fragment,null,l().createElement(O,{ref:n,headerItemRender:p},d),e),r)))}}}]);
//# sourceMappingURL=830.5c50bb40.chunk.js.map